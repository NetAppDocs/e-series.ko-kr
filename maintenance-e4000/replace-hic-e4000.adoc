---
permalink: maintenance-e4000/replace-hic-e4000.html 
sidebar: sidebar 
keywords:  
summary:  
---
= E4000의 HIC를 교체합니다
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
다음 절차에 따라 E4000 어레이에서 오류가 발생한 HIC(호스트 인터페이스 카드)를 교체합니다.

.이 작업에 대해
장애가 발생한 HIC를 교체할 경우 스토리지 어레이의 전원을 끄거나(단방향) 해당 컨트롤러를 오프라인 상태로 전환(양방향)하고 HIC를 교체한 다음 전원을 다시 연결하거나(단방향) 컨트롤러를 온라인 상태로 전환해야 합니다(단방향).

.시작하기 전에
* 단일 구성을 사용하는 경우 이 절차에 대한 다운타임 유지 보수 기간을 예약합니다. 이 절차를 성공적으로 완료할 때까지 스토리지 배열의 데이터에 액세스할 수 없습니다.
* 다음 사항을 확인하십시오.
+
** 컨트롤러와 호환되는 HIC
** ESD 밴드이거나 다른 정전기 방지 예방 조치를 취했습니다.
** 평평하고 정전기가 없는 작업 공간.
** 컨트롤러 캐니스터에 연결된 각 케이블을 식별하는 레이블입니다.
** 1 십자 드라이버.
** 컨트롤러의 SANtricity 시스템 관리자에 액세스할 수 있는 브라우저가 있는 관리 스테이션. System Manager 인터페이스를 열려면 브라우저에서 컨트롤러의 도메인 이름 또는 IP 주소를 가리킵니다.
+

CAUTION: * 데이터 액세스 손실 가능성 * -- HIC가 다른 E-Series 컨트롤러용으로 설계된 경우 E4000 컨트롤러 캐니스터에 HIC를 설치하지 않습니다. 또한 이중 구성에서 두 컨트롤러와 두 HIC 모두 동일해야 합니다. 호환되지 않거나 일치하지 않는 HIC가 있으면 전원을 공급하면 컨트롤러가 잠깁니다.







== 1단계: HIC 교체 준비

HIC를 안전하게 교체할 수 있도록 컨트롤러 쉘프의 전원을 끄거나(단방향) 해당 컨트롤러를 오프라인 상태로 둡니다.

[role="tabbed-block"]
====
.컨트롤러 쉘프 전원 끄기(단일)
--
.단계
. 가능한 경우 현재 컨트롤러에 설치되어 있는 SANtricity OS 소프트웨어 버전을 기록해 두십시오. SANtricity 시스템 관리자를 열고 * 지원 > 업그레이드 센터 > 소프트웨어 및 펌웨어 인벤토리 보기 * 를 선택합니다.
. 드라이브 보안 기능이 활성화된 경우, 저장된 키가 있는지, 설치에 필요한 암호를 알고 있는지 확인하십시오.
+

CAUTION: * 데이터 액세스 손실 가능성 * - 스토리지 배열의 모든 드라이브가 보안이 활성화된 경우 SANtricity Storage Manager의 엔터프라이즈 관리 창을 사용하여 보안 드라이브를 잠금 해제할 때까지 새 컨트롤러가 스토리지 어레이에 액세스할 수 없습니다.

+
키를 저장하려면(컨트롤러의 상태에 따라 가능하지 않을 수 있음):

+
.. SANtricity 시스템 관리자에서 * 설정 > 시스템 * 을 선택합니다.
.. 보안 키 관리 * 에서 * 백업 키 * 를 선택합니다.
.. 암호 구문 정의/암호 구문 다시 입력 * 필드에 이 백업 복사본의 암호를 입력하고 확인합니다.
.. 백업 * 을 클릭합니다.
.. 키 정보를 안전한 위치에 기록한 다음 * 닫기 * 를 클릭합니다.


. SANtricity System Manager를 사용하여 스토리지 시스템의 구성 데이터베이스를 백업합니다.
+
컨트롤러를 제거할 때 문제가 발생하면 저장된 파일을 사용하여 구성을 복원할 수 있습니다. 시스템에서 RAID 구성 데이터베이스의 현재 상태를 저장합니다. 이 데이터베이스는 볼륨 그룹 및 컨트롤러의 디스크 풀에 대한 모든 데이터를 포함합니다.

+
** System Manager에서:
+
... * 지원 센터 > 진단 * 을 선택합니다.
... 구성 데이터 수집 * 을 선택합니다.
... 수집 * 을 클릭합니다.
+
파일은 브라우저의 다운로드 폴더에 * configurationData - <arrayName> - <DateTime>.7z * 라는 이름으로 저장됩니다.



** 또는 다음 CLI 명령을 사용하여 구성 데이터베이스를 백업할 수도 있습니다.
+
Save storageArray dbmDatabase sourceLocation = 온보드 contentType = 모든 파일 = "파일 이름";"



. SANtricity 시스템 관리자를 사용하여 스토리지 어레이에 대한 지원 데이터를 수집합니다.
+
컨트롤러를 제거할 때 문제가 발생하면 저장된 파일을 사용하여 문제를 해결할 수 있습니다. 시스템은 스토리지 어레이에 대한 인벤토리, 상태 및 성능 데이터를 단일 파일로 저장합니다.

+
.. * 지원 센터 > 진단 * 을 선택합니다.
.. 지원 데이터 수집 * 을 선택합니다.
.. 수집 * 을 클릭합니다.
+
파일은 브라우저의 다운로드 폴더에 * support-data.7z * 라는 이름으로 저장됩니다.



. 스토리지 시스템과 접속된 모든 호스트 간에 입출력 작업이 발생하지 않도록 합니다. 예를 들어, 다음 단계를 수행할 수 있습니다.
+
** 스토리지에서 호스트로 매핑된 LUN이 포함된 모든 프로세스를 중지합니다.
** 스토리지에서 호스트로 매핑된 LUN에 데이터를 쓰는 애플리케이션이 없는지 확인합니다.
** 스토리지의 볼륨과 연결된 모든 파일 시스템을 마운트 해제합니다.
+

NOTE: 호스트 I/O 작업을 중지하는 정확한 단계는 호스트 운영 체제 및 구성에 따라 달라지며, 이 지침은 다루지 않습니다. 사용자 환경에서 호스트 I/O 작업을 중지하는 방법을 모르는 경우 호스트를 종료하는 것이 좋습니다.

+

CAUTION: * 가능한 데이터 손실 * -I/O 작업이 진행되는 동안 이 절차를 계속하면 데이터가 손실될 수 있습니다.



. 캐시 메모리의 데이터가 드라이브에 기록될 때까지 기다립니다.
+
캐시 데이터를 드라이브에 기록해야 하는 경우 컨트롤러 후면의 녹색 캐시 활성 LED가 켜집니다. 이 LED가 꺼질 때까지 기다려야 합니다.

. SANtricity 시스템 관리자의 홈 페이지에서 * 진행 중인 작업 보기 * 를 선택합니다.
. 다음 단계를 계속하기 전에 모든 작업이 완료되었는지 확인하십시오.
. 컨트롤러 쉘프의 두 전원 스위치를 끕니다.
. 컨트롤러 쉘프의 모든 LED가 꺼질 때까지 기다립니다.
. Recovery Guru에서 * Recheck * 을 선택하고 세부 정보 영역에서 * OK to remove * 필드가 * Yes * 로 표시되어 이 구성 요소를 제거해도 안전하다는 것을 나타내는지 확인합니다. 컨트롤러 캐니스터를 교체할 때까지 스토리지 배열의 데이터에 액세스할 수 없습니다.


--
.컨트롤러를 오프라인(이중) 상태로 전환
--
.단계
. 새 컨트롤러 캐니스터의 포장을 풀고 정전기가 없는 평평한 표면에 놓습니다.
+
오류가 발생한 컨트롤러 캐니스터를 배송할 때 사용할 포장재를 보관합니다.

. 컨트롤러 캐니스터 뒷면에서 MAC 주소 및 FRU 부품 번호 레이블을 찾습니다.
. SANtricity 시스템 관리자에서 교체할 컨트롤러 캐니스터의 교체 부품 번호를 찾습니다.
+
컨트롤러에 장애가 발생하여 교체해야 하는 경우 Recovery Guru의 세부 정보 영역에 교체 부품 번호가 표시됩니다. 이 번호를 수동으로 찾아야 하는 경우 다음 단계를 수행하십시오.

+
.. 하드웨어 * 를 선택합니다.
.. 컨트롤러 아이콘으로 표시된 컨트롤러 쉘프를 찾습니다.
.. 컨트롤러 아이콘을 클릭합니다.
.. 컨트롤러를 선택하고 * 다음 * 을 클릭합니다.
.. 기본 * 탭에서 컨트롤러의 * 교체 부품 번호 * 를 기록해 둡니다.


. 장애가 발생한 컨트롤러의 교체 부품 번호가 교체 컨트롤러의 FRU 부품 번호와 같은지 확인합니다.
+

CAUTION: * 데이터 액세스 손실 가능성 * - 두 부품 번호가 동일하지 않은 경우 이 절차를 시도하지 마십시오. 일치하지 않는 컨트롤러가 있으면 새 컨트롤러가 온라인 상태로 전환될 때 잠깁니다.

. SANtricity System Manager를 사용하여 스토리지 시스템의 구성 데이터베이스를 백업합니다.
+
컨트롤러를 제거할 때 문제가 발생하면 저장된 파일을 사용하여 구성을 복원할 수 있습니다. 시스템에서 RAID 구성 데이터베이스의 현재 상태를 저장합니다. 이 데이터베이스는 볼륨 그룹 및 컨트롤러의 디스크 풀에 대한 모든 데이터를 포함합니다.

+
** System Manager에서:
+
... 지원 > 지원 센터 > 진단 * 을 선택합니다.
... 구성 데이터 수집 * 을 선택합니다.
... 수집 * 을 클릭합니다.
+
파일은 브라우저의 다운로드 폴더에 * configurationData - <arrayName> - <DateTime>.7z * 라는 이름으로 저장됩니다.



** 또는 다음 CLI 명령을 사용하여 구성 데이터베이스를 백업할 수도 있습니다.
+
[listing]
----
save storageArray dbmDatabase sourceLocation=onboard contentType=all file="filename";
----


. 컨트롤러가 아직 오프라인 상태가 아닌 경우 SANtricity 시스템 관리자를 사용하여 오프라인 상태로 전환합니다.
+
** SANtricity 시스템 관리자:
+
... 하드웨어 * 를 선택합니다.
... 그래픽에 드라이브가 표시되면 * 쉘프 뒷면 표시 * 를 선택하여 컨트롤러를 표시합니다.
... 오프라인 상태로 설정할 컨트롤러를 선택합니다.
... 상황에 맞는 메뉴에서 * 오프라인 상태로 전환 * 을 선택하고 작업을 수행할지 확인합니다.
+

NOTE: 오프라인으로 전환하려고 하는 컨트롤러를 사용하여 SANtricity 시스템 관리자에 액세스하는 경우 SANtricity 시스템 관리자를 사용할 수 없음 메시지가 표시됩니다. 다른 컨트롤러를 사용하여 SANtricity System Manager에 자동으로 액세스하려면 대체 네트워크 연결에 연결 을 선택합니다.



** 또는 다음 CLI 명령을 사용하여 컨트롤러를 오프라인으로 전환할 수 있습니다.
+
* 컨트롤러 A *: `set controller [a] availability=offline`

+
* 컨트롤러 B *: `set controller [b] availability=offline`



. SANtricity 시스템 관리자가 컨트롤러의 상태를 오프라인으로 업데이트할 때까지 기다립니다.
+

CAUTION: 상태가 업데이트되기 전에는 다른 작업을 시작하지 마십시오.

. Recovery Guru에서 * Recheck * 을 선택하고 세부 정보 영역에서 * OK to remove * 필드가 * Yes * 로 표시되어 이 구성 요소를 제거해도 안전하다는 것을 나타내는지 확인합니다.


--
====


== 2단계: 컨트롤러 캐니스터 제거

시스템에서 컨트롤러 캐니스터를 제거한 다음 컨트롤러 캐니스터 커버를 제거합니다.

.단계
. 아직 접지되지 않은 경우 올바르게 접지하십시오.
. 케이블을 케이블 관리 장치에 고정하는 후크와 루프 스트랩을 풀고, 컨트롤러 캐니스터에서 시스템 케이블과 SFP(필요한 경우)를 뽑아 케이블이 연결된 위치를 추적합니다.
+
케이블 관리 장치에 케이블을 남겨 두면 케이블 관리 장치를 다시 설치할 때 케이블이 정리됩니다.

. 컨트롤러 캐니스터의 왼쪽과 오른쪽에서 케이블 관리 장치를 분리하여 한쪽에 둡니다.
. 캠 핸들의 래치를 눌러 분리될 때까지 캠 핸들을 완전히 열어 컨트롤러 캐니스터를 미드플레인에서 분리한 다음, 두 손으로 컨트롤러 캐니스터를 섀시에서 꺼냅니다.
. 컨트롤러 캐니스터를 뒤집어 평평하고 안정적인 표면에 놓습니다.
. 컨트롤러 캐니스터의 측면에 있는 파란색 버튼을 눌러 커버를 열고 커버를 컨트롤러 캐니스터에서 위쪽으로 돌리십시오.
+
image::../media/drw_E4000_open_controller_module_cover_IEOPS-870.png[컨트롤러 캐니스터 커버를 엽니다.]





== 3단계: HIC를 교체합니다

HIC를 교체합니다.

.단계
. 아직 접지되지 않은 경우 올바르게 접지하십시오.
. HIC를 분리합니다.
+
image::../media/drw_E4000_replace_HIC_source_IEOPS-864.png[HIC 및 페이스플레이트를 제거합니다.]

+
.. 컨트롤러 모듈에서 HIC 면판을 똑바로 밀어 꺼냅니다.
.. HIC의 손잡이 나사를 풀고 똑바로 들어 올립니다.
+

NOTE: 손가락을 사용하여 나비나사를 푸는 경우 배터리 분리 탭을 누르고 배터리를 위로 회전시켜 접근성을 높여야 할 수 있습니다.



. HIC를 다시 설치합니다.
+
.. 교체용 HIC 플러그의 소켓을 마더보드의 소켓에 맞춘 다음 카드를 소켓에 조심스럽게 끼웁니다.
.. HIC에 있는 3개의 나비 나사를 조입니다.
.. HIC 전면판을 다시 설치합니다.


. 컨트롤러 모듈 덮개를 다시 설치하고 제자리에 고정합니다.




== 4단계: 컨트롤러 캐니스터 재설치

컨트롤러 캐니스터를 섀시에 다시 설치합니다.

.단계
. 아직 접지되지 않은 경우 올바르게 접지하십시오.
. 컨트롤러 캐니스터의 커버를 아직 장착하지 않은 경우 다시 장착합니다.
. 컨트롤러 캐니스터를 뒤집고 끝을 섀시의 입구에 맞춥니다.
. 컨트롤러 캐니스터를 시스템 안으로 살짝 밀어 넣습니다. 컨트롤러 캐니스터의 끝을 섀시의 입구에 맞춘 다음 컨트롤러 캐니스터를 시스템 안쪽으로 살짝 밉니다.
+

NOTE: 지시가 있을 때까지 컨트롤러 캐니스터를 섀시에 완전히 삽입하지 마십시오.

. 필요에 따라 시스템을 다시 연결합니다.
+
미디어 컨버터(QSFP 또는 SFP)를 분리한 경우 광섬유 케이블을 사용하는 경우 다시 설치해야 합니다.

. 컨트롤러 캐니스터 재설치를 완료합니다.
+
.. 캠 핸들이 열린 상태에서 컨트롤러 캐니스터가 미드플레인과 만나서 완전히 장착될 때까지 컨트롤러 캐니스터를 단단히 밀어 넣은 다음 캠 핸들을 잠금 위치로 닫습니다.
+

NOTE: 커넥터 손상을 방지하기 위해 컨트롤러 캐니스터를 섀시에 밀어 넣을 때 과도한 힘을 가하지 마십시오.

+
이중 구성을 사용하는 경우 컨트롤러가 섀시에 장착되는 즉시 부팅을 시작합니다.

.. 아직 설치하지 않은 경우 케이블 관리 장치를 다시 설치하십시오.
.. 케이블을 후크와 루프 스트랩으로 케이블 관리 장치에 연결합니다.






== 5단계: HIC 교체 완료

컨트롤러의 전원을 켜거나(단방향) 컨트롤러를 온라인 상태로 설정(양방향)하고 지원 데이터를 수집한 후 작업을 재개합니다.

[role="tabbed-block"]
====
.컨트롤러 전원 켜기(단일)
--
.단계
. 컨트롤러 쉘프 후면에서 전원 스위치 2개를 켭니다.
+
** 전원 켜기 프로세스 중에는 일반적으로 완료하는 데 90초 이하의 시간이 소요되는 전원 스위치를 끄지 마십시오.
** 각 선반의 팬은 처음 시작할 때 매우 시끄럽습니다. 시동 중 큰 소음이 정상입니다.


. 컨트롤러가 다시 온라인 상태가 되면 컨트롤러 쉘프의 주의 LED를 확인합니다.
+
상태가 최적이 아니거나 주의 LED 중 하나라도 켜져 있는 경우 모든 케이블이 올바르게 장착되어 있는지 확인하고 배터리 및 컨트롤러 캐니스터가 올바르게 설치되어 있는지 확인합니다. 필요한 경우 컨트롤러 캐니스터와 배터리를 분리했다가 다시 설치합니다.

+

NOTE: 문제를 해결할 수 없는 경우 기술 지원 부서에 문의하십시오. 필요한 경우 SANtricity 시스템 관리자를 사용하여 스토리지 어레이에 대한 지원 데이터를 수집합니다.

. SANtricity 시스템 관리자를 사용하여 스토리지 어레이에 대한 지원 데이터를 수집합니다.
+
.. 지원 > 지원 센터 > 진단 * 을 선택합니다.
.. 지원 데이터 수집 을 선택합니다.
.. 수집 을 클릭합니다.
+
파일은 브라우저의 다운로드 폴더에 * support-data.7z * 라는 이름으로 저장됩니다.





--
.컨트롤러를 온라인(양면 인쇄)으로 배치
--
.단계
. SANtricity 시스템 관리자를 사용하여 컨트롤러를 온라인 상태로 전환합니다.
+
** SANtricity 시스템 관리자:
+
... 하드웨어 * 를 선택합니다.
... 그래픽에 드라이브가 표시되면 * Show back of shelf * 를 선택합니다.
... 온라인으로 설정하려는 컨트롤러를 선택합니다.
... 상황에 맞는 메뉴에서 * 온라인 위치 * 를 선택하고 작업을 수행할지 확인합니다.
+
컨트롤러가 온라인 상태가 됩니다.



** 또는 다음 CLI 명령을 사용하여 컨트롤러를 다시 온라인 상태로 전환할 수 있습니다.
+
* 컨트롤러 A *: `set controller [a] availability=online`;

+
* 컨트롤러 B *: `set controller [b] availability=online`;



. 컨트롤러가 다시 온라인 상태가 되면 컨트롤러 쉘프의 주의 LED를 확인합니다.
+
상태가 최적이 아니거나 주의 LED 중 하나라도 켜져 있는 경우 모든 케이블이 올바르게 장착되어 있는지 확인하고 배터리 및 컨트롤러 캐니스터가 올바르게 설치되어 있는지 확인합니다. 필요한 경우 컨트롤러 캐니스터와 배터리를 분리했다가 다시 설치합니다.

+

NOTE: 문제를 해결할 수 없는 경우 기술 지원 부서에 문의하십시오. 필요한 경우 SANtricity 시스템 관리자를 사용하여 스토리지 어레이에 대한 지원 데이터를 수집합니다.

. 모든 볼륨이 기본 소유자에게 반환되었는지 확인합니다.
+
.. Storage > Volumes * 를 선택합니다. 모든 볼륨 * 페이지에서 볼륨이 기본 소유자에게 배포되었는지 확인합니다. 볼륨 소유자를 보려면 * 자세히 > 소유권 변경 * 을 선택합니다.
.. 볼륨이 모두 기본 소유자가 소유한 경우 5단계를 계속 진행하십시오.
.. 반환된 볼륨이 없는 경우 볼륨을 수동으로 반환해야 합니다. 볼륨 재배포 * 로 이동합니다.
.. 자동 배포 또는 수동 배포 후 일부 볼륨만 기본 소유자에게 반환되면 Recovery Guru에서 호스트 연결 문제를 확인해야 합니다.
.. Recovery Guru가 없거나 Recovery Guru 단계를 수행한 후에도 볼륨이 기본 소유자에게 반환되지 않는 경우 지원 팀에 문의하십시오.


. SANtricity 시스템 관리자를 사용하여 스토리지 어레이에 대한 지원 데이터를 수집합니다.
+
.. 지원 > 지원 센터 > 진단 * 을 선택합니다.
.. 지원 데이터 수집 을 선택합니다.
.. 수집 을 클릭합니다.
+
파일은 브라우저의 다운로드 폴더에 * support-data.7z * 라는 이름으로 저장됩니다.





--
====
.다음 단계
호스트 인터페이스 카드 교체가 완료되었습니다. 일반 작업을 다시 시작할 수 있습니다.
